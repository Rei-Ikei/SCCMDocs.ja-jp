---
title: アプリケーションの作成
titleSuffix: Configuration Manager
description: 展開の種類、検出方法、およびソフトウェアのインストール要件を指定してアプリケーションを作成します。
ms.custom: na
ms.date: 03/22/2018
ms.prod: configuration-manager
ms.reviewer: na
ms.suite: na
ms.technology:
- configmgr-app
ms.tgt_pltfrm: na
ms.topic: article
ms.assetid: cc230ff4-7056-4339-a0a6-6a44cdbb2857
caps.latest.revision: 14
caps.handback.revision: 0
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.openlocfilehash: 2569625daaf9a3e10dea26d86b01e10cacae0181
ms.sourcegitcommit: 11bf4ed40ed0cbb10500cc58bbecbd23c92bfe20
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 03/23/2018
---
# <a name="create-applications-with-system-center-configuration-manager"></a>System Center Configuration Manager でアプリケーションを作成する

*適用対象: System Center Configuration Manager (Current Branch)*

Configuration Manager アプリケーションには、1 つ以上の展開の種類があります。 このような展開の種類には、デバイスにソフトウェアをインストールするために必要なインストール ファイルと情報が含まれます。 また、展開の種類には、クライアントがソフトウェアをインストールするタイミングと方法を指定する、検出方法や要件などのルールもあります。  

 アプリケーションを作成するには次の方法があります。  

-   アプリケーション インストール ファイルを読み取って、アプリケーションおよび展開の種類を自動的に作成する。  

-   アプリケーションを手動で作成してから、後で展開の種類を追加する。  

-   アプリケーションをファイルからインポートする。  

> [!NOTE]  
>  iOS、Windows Phone、Android のアプリケーションの作成については、[モバイル デバイス用アプリケーションの作成](../../mdm/deploy-use/create-applications.md)に関するページをご覧ください。  



## <a name="start-the-create-application-wizard"></a>アプリケーションの作成ウィザードを開始する  

1.  Configuration Manager コンソールで、**[ソフトウェア ライブラリ]** > **[アプリケーション管理]** > **[アプリケーション]** の順に選択します。  

3.  **[ホーム]** タブの **[作成]** グループで、**[アプリケーションの作成]** を選択します。  



## <a name="specify-whether-you-want-to-automatically-detect-application-information-or-manually-define-the-information"></a>アプリケーション情報を自動的に検出するか、手動で情報を定義するかを指定する  

-   1 つの展開の種類で基本的なアプリケーションを作成するには、アプリケーションの情報を自動的に検出します。 たとえば、依存関係または要件を持たない Windows インストーラー ファイルなどです。 この手順に従ってアプリケーションを作成した後で、必要に応じて、展開の種類の追加や変更、検出方法、依存関係、要件の追加を行うことができます。  

-   複数の展開の種類、依存関係、検出方法、要件のある複雑なアプリケーションを作成する場合、アプリケーションの情報を手動で指定します。  

### <a name="automatically-detect-application-information"></a>アプリケーションの情報を自動的に検出する  

1.  アプリケーションの作成ウィザードの **[全般]** ページで、 **[このアプリケーションの情報をインストール ファイルから自動的に検出する]**を選択します。  

2.  **[種類]** ドロップダウン リストから、アプリケーション情報の検出に使用するアプリケーション インストール ファイルの種類を選択します。 使用可能なインストールの種類については、このトピックの「[Configuration Manager でサポートされる展開の種類](/sccm/apps/deploy-use/create-applications#deployment-types-supported-by-configuration-manager)」を参照してください。  

3.  **[場所]** ボックスに、アプリケーション情報の検出に使用するアプリケーション インストール ファイルの UNC パス (*\\\\server\\share\\\filename* の形式) を指定するか、ストアのリンクを指定します。 または、**[参照]** をクリックして、インストール ファイルを見つけます。  

    > [!IMPORTANT]  
    >  **[Windows インストーラー (\*.msi ファイル)]** をアプリケーションの種類として選ぶと、指定したフォルダーにあるすべてのファイルがインポートされて、配布ポイントに送信されます。 指定するフォルダーに、アプリケーションのインストールに必要なファイルのみが含まれていることを確認してください。 Configuration Manager はアプリケーション パッケージで最大 20,000 のアプリケーション ファイルをサポートするようにテストされています。 アプリケーションにそれ以上のファイルがある場合は、複数のアプリケーションを作成してファイルを分けることを検討してください。  

    >  アプリケーションがある UNC パス、およびアプリケーションのコンテンツが含まれているサブフォルダーのアクセス権を持っている必要があります。  

4.  アプリケーションの作成ウィザードの **[情報のインポート]** ページで、インポートされた情報を確認し、**[次へ]** を選択します。 必要に応じて、**[前へ]** を選択して戻り、エラーを修正できます。  

5.  アプリケーションの作成ウィザードの **[一般情報]** ページで、次の情報を指定します。  

    > [!NOTE]  
    >  Configuration Manager がアプリケーション インストール ファイルからこの情報を自動的に検出した場合は、ここに既に設定されています。 また、作成するアプリケーションの種類によって、表示されるオプションが異なります。  

    -   アプリケーション名、コメント、バージョンなど、アプリケーションに関する一般情報。 Configuration Manager コンソールでアプリケーションを見つけやすいよう、オプションの参照を指定します。  

    -   **インストール プログラム**:アプリケーションの展開の種類をインストールするのに必要なインストール プログラムとプロパティを指定します。  

        > [!TIP]  
        >  インストール プログラムが表示されない場合は、**[参照]** を選んでインストール プログラムの場所を参照します。  

    -   **インストールの権限**: アプリケーションの展開の種類が、ログオン中のユーザーのみにインストールされるのか、すべてのユーザーにインストールされるのかを指定します。 3 番目のオプションは、デバイスに展開する場合はすべてのユーザーを対象とし、ユーザーに展開する場合はそのユーザーのみを対象としてインストールするかどうかです。  

    -   **(構成されている場合) 自動 VPN 接続を使用する**:アプリを起動するデバイスに VPN プロファイルが展開されている場合は、アプリの開始時に VPN 接続を起動します (Windows 8.1 と Windows Phone 8.1 のみ)。  

         Windows Phone 8.1 デバイスでは、複数の VPN プロファイルがデバイスに配置されている場合、自動 VPN 接続はサポートされません。  

         詳細については、[VPN プロファイル](../../protect/deploy-use/vpn-profiles.md)に関するページをご覧ください。  

6.  **[次へ]** を選択し、**[概要]** ページでアプリケーションの情報を確認してから、アプリケーションの作成ウィザードを終了します。  

新しいアプリケーションが Configuration Manager コンソールの **[アプリケーション]** ノードに表示されたら、アプリケーションの作成プロセスは完了です。 展開の種類をアプリケーションに追加する場合、このトピックの「[アプリケーションの展開の種類を作成する](/sccm/apps/deploy-use/create-applications#create-deployment-types-for-the-application)」を参照してください。  

### <a name="manually-specify-application-information"></a>アプリケーションの情報を手動で指定する  

1.  アプリケーションの作成ウィザードの **[全般]** ページで、**[アプリケーションの情報を手動で指定する]** を選択し、**[次へ]** を選択します。  

2.  アプリケーション名、コメント、バージョンなど、アプリケーションに関する一般情報を指定します。 Configuration Manager コンソールでアプリケーションを見つけやすいよう、オプションの参照を指定します。  

3.  アプリケーションの作成ウィザードの **[アプリケーション カタログ]** ページで、次の情報を指定します。  

    -   **選択した言語**: ドロップダウン リストから、セットアップするアプリケーションの言語バージョンを選びます。 **[追加/削除]** を選択し、このアプリケーションにその他の言語をセットアップします。  

    -   **[ローカライズされたアプリケーション名]**:**[選択した言語]** ドロップダウン リストで選択した言語で、アプリケーション名を指定します。  

        > [!IMPORTANT]  
        >  セットアップする言語バージョンごとにローカライズされたアプリケーション名を指定する必要があります。  

    -   **ユーザー カテゴリ**: **[編集]** を選び、**[選択した言語]** ドロップダウン リストで選んだ言語でアプリケーションのカテゴリを指定します。 ソフトウェア センターのユーザーは、選択したこれらのカテゴリを使用して、利用可能なアプリケーションのフィルター処理と並べ替えを行うことができます。  

    -   **ユーザー ドキュメント**: **[参照]** を選び、ソフトウェア センターのユーザーがこのアプリケーションに関する詳細情報を取得するために読むことができるファイルの場所を指定します。 この場所は、URL、またはネットワーク パスとファイル名です。

    -   **リンク テキスト**: アプリケーションの URL の代わりに表示されるテキストを指定します。  

    -   **[アプリケーションのプライバシー URL]**:アプリケーションのプライバシーに関する声明の URL を指定します。  

    -   **[ローカライズされた説明]**:**[選択した言語]** ドロップダウン リストで選択した言語で、このアプリケーションの説明を入力します。  

    -   **[キーワード]**:**[選択した言語]** ドロップダウン リストで選択した言語で、キーワードの一覧を入力します。 これらのキーワードは、ソフトウェア センターのユーザーがアプリケーションを検索するときに役立ちます。  

    -   **アイコン**: **[参照]** を選び、選択可能なアイコンからこのアプリケーション用のアイコンを選びます。 アイコンを指定しない場合、このアプリケーションには既定のアイコンが使われます。 最大 512x512 のピクセル寸法でアイコンを設定できるようになりました。

    -   **このアプリケーションを会社のポータルでおすすめアプリケーションとして強調表示する**: このオプションは、ポータル サイトでアプリを目立つように表示します。  

4.  アプリケーションの作成ウィザードの **[展開の種類]** ページで **[追加]** を選択し、新しい展開の種類を作成します。  

 詳細については、「[アプリケーションの展開の種類を作成する](/sccm/apps/deploy-use/create-applications#create-deployment-types-for-the-application)」を参照してください。  

5.  **[次へ]** を選択し、**[概要]** ページでアプリケーションの情報を確認してから、アプリケーションの作成ウィザードを終了します。  

Configuration Manager コンソールの **[アプリケーション]** ノードに、新しいアプリケーションが表示されます。  



##  <a name="create-deployment-types-for-the-application"></a>アプリケーションの展開の種類を作成する  
 アプリケーションの情報を自動検出する場合、この手順の一部は行わなくてもよい可能性があります。  

### <a name="start-the-create-deployment-type-wizard"></a>展開の種類の作成ウィザードを開始する  

1.  Configuration Manager コンソールで、**[ソフトウェア ライブラリ]** > **[アプリケーション管理]** > **[アプリケーション]** の順に選択します。  

3.  アプリケーションを選択し、**[ホーム]** タブの **[アプリケーション]** グループで、**[展開の種類の作成]** を選択します。  

> [!TIP]  
>  展開の種類の作成ウィザードは、アプリケーションの作成ウィザードと、*[<アプリケーション名\>* **プロパティ]** ダイアログ ボックスの **[展開の種類]** タブから開始することもできます。  

### <a name="specify-whether-you-want-to-automatically-detect-deployment-type-information-or-manually-set-up-the-information"></a>展開の種類の情報を自動検出するか、手動でセットアップするかを指定する  
 次のいずれかの手順を使用して、展開の種類の情報を自動検出するか、手動でセットアップします。  

#### <a name="automatically-detect-deployment-type-information"></a>展開の種類の情報を自動検出する  

1.  展開の種類の作成ウィザードの **[全般]** ページで、**[この展開の種類の情報をインストール ファイルから自動的に特定する]** を選択します。  

2.  **[種類]** ボックスで、展開の種類の情報を検出するために使用するアプリケーション インストール ファイルの種類を選択します。  

3.  **[場所]** ボックスで、ネットワーク パスを指定するか、アプリケーション インストール ファイルへのストア リンクを指定します。 Configuration Manager は、これらのファイルを使って展開の種類の情報を検出します。 **[参照]** を選択して、インストール ファイルを検索することもできます。  

    > [!NOTE]  
    >  アプリケーションがあるネットワーク パス、およびアプリケーションのコンテンツが含まれているサブフォルダーのアクセス権を持っている必要があります。  

4.  展開の種類の作成ウィザードの **[情報のインポート]** ページで、インポートされた情報を確認し、**[次へ]** を選択します。 **[前へ]** を選択して戻り、エラーを修正することもできます。  

5.  展開の種類の作成ウィザードの **[一般情報]** ページで、次の情報を指定します。  

    > [!NOTE]  
    >  展開の種類の情報によっては、既にアプリケーション インストール ファイルから読み込まれて入力されている場合があります。 また、作成する展開の種類によって、表示されるオプションが異なる場合があります。  

    -   名前、管理者コメント、使用可能な言語など、展開の種類に関する一般情報。  

    -   **インストール プログラム**:展開の種類のインストールに必要なインストール プログラムとプロパティを指定します。  

    -   **インストールの権限**: 展開の種類が、現在のユーザーにインストールされるのか、すべてのユーザーにインストールされるのかを指定します。 3 番目のオプションは、デバイスに展開する場合はすべてのユーザーを対象とし、ユーザーに展開する場合はそのユーザーのみを対象としてインストールするかどうかです。  

    -   **(構成されている場合) 自動 VPN 接続を使用する**:アプリを起動するデバイスに VPN プロファイルが展開されている場合は、アプリの開始時に VPN 接続を起動します (Windows 8.1 と Windows Phone 8.1 のみ)。 複数の VPN プロファイルが Windows 8.1 デバイスに展開されている場合、既定では、最初に展開された VPN プロファイルが使用されます。  

         Windows Phone 8.1 デバイスでは、複数の VPN プロファイルがデバイスに配置されている場合、自動 VPN 接続はサポートされません。  

         詳細については、[VPN プロファイル](../../protect/deploy-use/vpn-profiles.md)に関するページをご覧ください。  

6.  **[次へ]** を選択して、「[展開の種類のコンテンツ オプションを指定する](/sccm/apps/deploy-use/create-applications#specify-content-options-for-the-deployment-type)」に進みます。  

#### <a name="manually-set-up-the-deployment-type-information"></a>展開の種類の情報を手動でセットアップする  

1.  展開の種類の作成ウィザードの **[全般]** ページの **[種類]** ドロップダウン リストで、この展開の種類のアプリケーション インストール ファイルの種類を選びます。 

2.  **[展開の種類の情報を手動で指定する]** をオンにして、**[次へ]** をクリックします。

3.  展開の種類の作成ウィザードの **[一般情報]** ページで、展開の種類の名前を指定します。 必要に応じて、この展開の種類の説明と言語を指定し、**[次へ]** をクリックします。  

4.  次に、「[展開の種類のコンテンツ オプションを指定する](/sccm/apps/deploy-use/create-applications#specify-content-options-for-the-deployment-type)」に進みます。  

###  <a name="specify-content-options-for-the-deployment-type"></a>展開の種類のコンテンツ オプションを指定する  

1.  展開の種類の作成ウィザードの **[コンテンツ]** ページで、次の情報を指定します。  

    -   **コンテンツの場所**: この展開の種類のコンテンツの場所を指定するか、**[参照]** を選んで展開の種類のコンテンツのフォルダーを選びます。  

        > [!IMPORTANT]  
        >  サイト サーバー コンピューターのシステム アカウントには、指定するコンテンツの場所のアクセス許可が必要です。  

    -   **アンインストール コンテンツ設定**: 次のいずれかを指定します。
        - **インストール コンテンツと同じ**: インストール コンテンツとアンインストール コンテンツが同じ場合は、このオプションを選びます。 これが既定のオプションです。
        - **アンインストール コンテンツなし**: アプリケーションのアンインストールにコンテンツが必要ない場合は、このオプションを選びます。
        - **インストール コンテンツと異なる**: アンインストール コンテンツがインストール コンテンツと異なる場合は、このオプションを選びます。 そして、アプリケーションのアンインストールに使うアプリケーション コンテンツの場所を指定します。
5. **OK** をクリックして、展開の種類プロパティ ダイアログ ボックスを閉じます。

    -   **クライアント キャッシュの内容を保持する**: コンテンツをキャッシュに無期限に保持する場合は、このオプションを選びます。 アプリが既にインストールされている場合でも、クライアントはコンテンツを保持します。 このオプションは、Windows インストーラー ベースのソフトウェアなど、一部の展開に便利です。 Windows インストーラーでは、更新プログラムを適用するためにソース コンテンツのローカル コピーが必要です。 ただし、このオプションを指定すると使用可能なキャッシュ領域が減ります。 このオプション選択した場合は、キャッシュに十分な空き領域がないと、後で大規模な展開に失敗する可能性があります。  

    -   **同じサブネットにある他のクライアントとのコンテンツの共有を許可する**: ネットワークの負荷を減らすには、このオプションを選びます。 クライアントは、コンテンツを既にダウンロードしてキャッシュしているネットワーク上の他のローカル クライアントからコンテンツをダウンロードします。 このオプションは、Windows BranchCache テクノロジを利用します。  

    -   **インストール プログラム**: インストール プログラムの名前と必要なインストール パラメーターを指定するか、**[参照]** を選んでインストール ファイルを見つけます。  

    -   **インストール開始までの時間**: 必要に応じて、展開の種類のインストール プログラムがあるフォルダーを指定します。 このフォルダーには、クライアントの絶対パスを指定することも、インストール ファイルがある配布ポイント フォルダーのパスを指定することもできます。  

    -   **プログラムのアンインストール**: 必要に応じて、アンインストール プログラムの名前と必要なパラメーターを指定するか、**[参照]** を選んで見つけます。  

    -   **開始までの時間**: 必要に応じて、展開の種類のアンインストール プログラムがあるフォルダーを指定します。 このフォルダーには、クライアント上の絶対パスを指定できます。 または、パッケージが含まれるフォルダーの配布ポイント上の相対パスでもかまいません。  

    -   **[64 ビット クライアント上で 32 ビット プロセスとしてインストールおよびアンインストール プログラムを実行する]**:Windows ベースのコンピューターで 32 ビットのファイルとレジストリの場所を使用し、展開の種類のインストール プログラムを実行します。  

2.  **[次へ]** を選択します。  

### <a name="set-up-detection-methods-to-indicate-the-presence-of-the-deployment-type-windows-pcs-only"></a>展開の種類の存在を確認するための検出方法をセットアップする (Windows PC のみ)  
 この手順では、展開の種類が既にインストールされているかどうかを確認する検出方法をセットアップします。  

1.  展開の種類の作成ウィザードの **[検出方法]** ページで、**[この展開の種類の存在を検出する規則を構成する]** を選択して、**[句の追加]** を選択します。  

    > [!NOTE]  
    >  **[カスタム スクリプトを使用してこの展開の種類の存在を検出する]** を選択することもできます。 詳細については、「[カスタム スクリプトを使用して展開の種類の存在を確認する](/sccm/apps/deploy-use/create-applications#Use-a-custom-script-to-check-for-the-presence-of-a-deployment-type)」を参照してください。  

2.  **[検出規則]** ダイアログ ボックスの **[設定の種類]** ドロップダウン リストで、展開の種類の存在を検出するために使用する方法を選択します。 次の方法から選択できます。  

    -   **ファイル システム**: 指定したファイルまたはフォルダーがクライアント デバイスに存在するかどうかを検出します。 検出されると、アプリケーションがインストールされていることを示します。  

        > [!NOTE]  
        >  **[ファイル システム]** の設定の種類では、[パス] フィールドでネットワーク共有への UNC パスを指定することはできません。 指定できるのはクライアント デバイスのローカル パスのみです。  
        >   
        >  指定したファイルまたはフォルダーで 32 ビット ファイルの場所をチェックするには、最初に **[64 ビット システムでこのファイルまたはフォルダーを 32 ビット アプリケーションに関連付ける]** オプションをオンにします。 ファイルまたはフォルダーが見つからない場合は、64 ビットの場所が検索されます。  

    -   **レジストリ**: 指定したレジストリ キーまたはレジストリ値がクライアント デバイスに存在するかどうかを検出します。 検出されると、アプリケーションがインストールされていることを示します。  

        > [!NOTE]  
        >  指定したレジストリ キーで 32 ビット レジストリの場所をチェックするには、最初に **[64 ビット システムでこのレジストリ キーを 32 ビット アプリケーションに関連付ける]** オプションをオンにします。 レジストリ キーが見つからない場合は、64 ビットの場所が検索されます。  

    -   **Windows インストーラー**: 指定した Windows インストーラー ファイルがクライアント デバイスに存在するかどうかを検出します。 検出されると、アプリケーションがインストールされていることを示します。  

3.  この展開の種類がインストールされているかどうかを検出するための項目に関する詳細を指定します。 たとえば、ファイル、フォルダー、レジストリのキーと値、Windows インストーラー製品コードを使用できます。  

4.  項目が存在する必要があるかどうか、またはルールを満たす必要があるかどうかを指定します。 たとえば、ファイルを検出する場合は、**[このアプリケーションのプレゼンスを示すには、ターゲット システムにファイル システム設定が存在する必要がある]** をオンにします。  

5.  **[次へ]** を選択して、**[検索規則]** ダイアログ ボックスを閉じます。  

####  <a name="use-a-custom-script-to-check-for-the-presence-of-a-deployment-type"></a>カスタム スクリプトを使用して展開の種類の存在を確認する  

1.  展開の種類の作成ウィザードの **[検出方法]** ページで、**[カスタム スクリプトを使用してこの展開の種類のプレゼンスを検出する]** ボックスをオンにして **[編集]** を選択します。  

2.  **[スクリプト エディター]** ダイアログ ボックスの **[スクリプトの種類]** ドロップダウン リストで、展開の種類を検出するスクリプトの言語を選択します。  

3.  **[スクリプトの内容]** ボックスに、使用するスクリプトを入力します。 既存のスクリプトの内容をこのフィールドに貼り付けるか、**[開く]** を選択して、既存の保存済みスクリプトを参照することもできます。 Configuration Manager は、スクリプトの結果を調べます。 スクリプトによって標準出力 (STDOUT) ストリーム、標準エラー (STDERR) ストリーム、および終了コードに書き込まれた値を読み取ります。 スクリプトがゼロではない値で終了した場合、スクリプトは失敗しており、アプリケーション検出の状態は不明です。 終了コードがゼロで、STDOUT にデータがある場合、アプリケーション検出状態は "インストール済み" になります。  

 次の表を使って、スクリプトの出力から、アプリケーションがインストール済みかどうかを確認します。  

|スクリプトの終了コード|詳細|
|--------------------------------|-----------------|
|0|**STDOUT から読み取られるデータ**: 空<br /><br /> **STDERR から読み取られるデータ**: 空<br /><br /> **スクリプトの結果**: 成功<br /><br /> **アプリケーション検出状態**: 未インストール|  
|0|**STDOUT から読み取られるデータ**: 空<br /><br /> **STDERR から読み取られるデータ**: 空ではない<br /><br /> **スクリプトの結果**: 失敗<br /><br /> **アプリケーション検出状態**: 不明|  
|0|**STDOUT から読み取られるデータ**: 空ではない<br /><br /> **STDERR から読み取られるデータ**: 空<br /><br /> **スクリプトの結果**: 成功<br /><br /> **アプリケーション検出状態**: インストール済み|  
|0|**STDOUT から読み取られるデータ**: 空ではない<br /><br /> **STDERR から読み取られるデータ**: 空ではない<br /><br /> **スクリプトの結果**: 成功<br /><br /> **アプリケーション検出状態**: インストール済み|  
|ゼロ以外の値|**STDOUT から読み取られるデータ**: 空<br /><br /> **STDERR から読み取られるデータ**: 空<br /><br /> **スクリプトの結果**: 失敗<br /><br /> **アプリケーション検出状態**: 不明|  
|ゼロ以外の値|**STDOUT から読み取られるデータ**: 空<br /><br /> **STDERR から読み取られるデータ**: 空ではない<br /><br /> **スクリプトの結果**: 失敗<br /><br /> **アプリケーション検出状態**: 不明|  
|ゼロ以外の値|**STDOUT から読み取られるデータ**: 空ではない<br /><br /> **STDERR から読み取られるデータ**: 空<br /><br /> **スクリプトの結果**: 失敗<br /><br /> **アプリケーション検出状態**: 不明|  
|ゼロ以外の値|**STDOUT から読み取られるデータ**: 空ではない<br /><br /> **STDERR から読み取られるデータ**: 空ではない<br /><br /> **スクリプトの結果**: 失敗<br /><br /> **アプリケーション検出状態**: 不明|  

次の表に、Microsoft Visual Basic (VB) のサンプル スクリプトを示します。これらは独自のアプリケーション検出スクリプトを記述する場合に使用できます。  

|Visual Basic のサンプル スクリプト|説明|  
|--------------------------------|-----------------|  
|**WScript.Quit(1)**|ゼロ以外の終了コードを返し、スクリプトが正常に実行されなかったことを示します。 この場合、アプリケーション検出状態は不明です。|  
|**WScript.StdErr.Write "スクリプトは失敗"**<br /><br /> **WScript.Quit(0)**|スクリプトは終了コード 0 を返しますが、STDERR の値は空ではありません。 この結果は、スクリプトが正常に実行できなかったことを示します。 この場合、アプリケーション検出状態は不明です。|  
|**WScript.Quit(0)**|ゼロの終了コードを返し、スクリプトが正常に実行されたことを示します。 ただし、STDOUT の値は空で、アプリケーションがインストールされていないことを示します。|  
|**WScript.StdOut.Write "アプリケーションはインストール済み"**<br /><br /> **WScript.Quit(0)**|ゼロの終了コードを返し、スクリプトが正常に実行されたことを示します。 STDOUT の値は空ではなく、アプリケーションがインストールされていることを示します。|  
|**WScript.StdOut.Write "アプリケーションはインストール済み"**<br /><br /> **WScript.StdErr.Write "完了"**<br /><br /> **WScript.Quit(0)**|ゼロの終了コードを返し、スクリプトが正常に実行されたことを示します。 STDOUT と STDERR の値は空ではなく、アプリケーションがインストールされていることを示します。|  

 > [!NOTE]  
 >  使用できるスクリプトの最大サイズは 32 キロバイト (KB) です。  

4.  **[OK]** を選択して、**[スクリプト エディター]** ダイアログ ボックスを閉じます。  

### <a name="specify-user-experience-options-for-the-deployment-type"></a>展開の種類のユーザー エクスペリエンス オプションを指定する  
 これらの設定は、クライアントがデバイスにアプリケーションをインストールする方法と、ユーザーに表示される内容を指定します。  

1.  展開の種類の作成ウィザードの **[ユーザー側の表示と操作]** ページで、次の情報を指定します。  

    -   **[インストールの動作]**:ドロップダウン リストから、次のいずれかのオプションを選択します。  

        -   **ユーザー用にインストール**: アプリケーションの展開先のユーザー専用にアプリケーションをインストールします。  

        -   **[システム用にインストールする]**:アプリケーションが 1 回だけインストールされ、すべてのユーザーが利用できます。  

        -   **リソースがデバイスの場合はシステム用に、それ以外の場合はユーザー用にインストールする**: アプリケーションがデバイスに展開される場合、クライアントはすべてのユーザーを対象にインストールします。 アプリケーションがユーザーに展開される場合、クライアントはそのユーザーだけを対象にインストールします。  

    -   **[ログオン要件]**:展開の種類のログオン要件を次のオプションから指定します。  

        -   **ユーザーがログオンしているときのみ**  

        -   **ユーザーのログオン状態にかかわらず**  

        -   **ユーザーがログオンしていないときのみ**  

        > [!NOTE]  
        >  このオプションの既定値は **[ユーザーがログオンしているときのみ]** です。 **[インストールの動作]** ドロップダウン リストで **[ユーザー用にインストール]** を選んだ場合は、このオプションを変更できません。  

    -   **インストール プログラムの表示**: 展開の種類をクライアント デバイスで実行するモードを指定します。 次のオプションを使用できます。  

        -   **最大化**: 展開の種類をクライアント デバイスで最大化して実行します。 ユーザーにはすべてのインストール動作が表示されます。  

        -   **通常**: 展開の種類をシステムとプログラムの既定のモードで実行します。 このモードが既定値です。  

        -   **最小化**: 展開の種類をクライアント デバイスで最小化して実行します。 ユーザーは通知エリアまたはタスクバーでインストール動作を確認できます。  

        -   **非表示**: クライアント デバイスで展開の種類を非表示にします。 ユーザーにはインストール動作が表示されません。  

    -   **プログラムのインストールの表示および対話をユーザーに許可する**: 展開の種類のインストールで、ユーザーがインストール オプションをセットアップできるようにするかどうかを指定します。  

        > [!NOTE]  
        >  **[インストールの動作]** ドロップダウン リストで **[ユーザー用にインストール]** オプションを選んだ場合、このオプションは既定で有効になります。  

        > [!IMPORTANT]
        > バージョン 1802 以降では、この設定は、**[システム用にインストールする]** 動作を選んだときは省略可能です。 この変更は主として、ユーザーがタスク シーケンスの間にインストールと対話できるようにするためです。 たとえば、さまざまなオプションの入力をエンド ユーザーに求めるセットアップ プロセスを実行します。 一部のアプリケーション インストーラーでは、ユーザー プロンプトを消せなかったり、インストール プロセスでユーザーだけが知っている特定の構成値が求められたりする場合があります。 <!--1356976-->
        > 
        > システム コンテキストでインストールし、インストールの操作をユーザーに許可することは、セキュリティで保護された構成ではありません。 詳細については、「[アプリケーション管理に関するセキュリティとプライバシー](/sccm/apps/plan-design/security-and-privacy-for-application-management#bkmk_interact)」をご覧ください。

    -   **[許容最長実行時間 (分)]**:プログラムがクライアント コンピューターで実行される最長時間を指定します。 ゼロより大きい整数を指定できます。 既定の設定は、120 分です。  

         この値は、次を行うときに使用されます。  

        -   展開の種類の結果を監視する。  

        -   クライアント デバイスでメンテナンス期間が定義されている場合に、展開の種類をインストールするかどうかを確認する。 メンテナンス期間が設定されている場合は、**[許可最長実行時間]** で指定した時間が、メンテナンス期間の残りに収まる場合だけプログラムが起動します。  

        > [!IMPORTANT]  
        >  スケジュールされているメンテナンス期間より **[許可最長実行時間]** が長い場合は、競合が発生することがあります。 ユーザーが最長実行時間をメンテナンス期間より長く設定した場合は、その展開の種類は実行されません。  

    -   **インストールの推定時間 (分)**: 展開の種類の推定インストール時間を指定します。 ソフトウェア センターではこの時間がユーザーに表示されます。  

    -   **Specify specific reboot behavior (特定の再起動の動作を指定する)**: インストール後の操作を指定します。 次のオプションを使用できます。  

        -   **リターン コードを基に動作を決定する**: [リターン コード] タブで構成されたコードに基づいて、再起動を処理します。ソフトウェア センターには、"**再起動を必要とする可能性がある**" ことを示すメッセージが表示されます。 インストール中にユーザーがログインすると、展開のユーザー エクスペリエンス構成に応じて、プロンプトが表示されます。  

        -   **何もしない**: インストール後の再起動は不要です。 ソフトウェア センターでは、再起動は不要と報告されます。  
        -   **ソフトウェア インストール プログラムによってデバイスの再起動が強制実行されるようにする**: Configuration Manager で再起動の制御や開始を行うことはありませんが、実際のインストールでは警告なしでこれらが行われる場合があります。 インストーラーでの再起動の開始時に Configuration Manager がインストールの失敗を報告しないようにする場合は、この設定を使用します。 ソフトウェア センターには、"**再起動を必要とする可能性がある**" ことを示すメッセージが表示されます。  

        -   **Configuration Manager クライアントによって、デバイスの必須の再起動が強制実行されるようにする**: インストールが正常に行われてから、Configuration Manager によってデバイスの再起動が強制実行されます。 ソフトウェア センターでは、再起動が必要であることが報告されます。 インストール中にユーザーがログインすると、展開のユーザー エクスペリエンス構成に応じて、プロンプトが表示されます。

### <a name="specify-requirements-for-the-deployment-type"></a>展開の種類の要件を指定する  

1.  展開の種類の作成ウィザードの **[要件]** ページで **[追加]** を選択して **[要件の作成]** ダイアログ ボックスを開き、新しい要件を追加します。  

    > [!NOTE]  
    >  *[<展開の種類名\>* **プロパティ]** ダイアログ ボックスの **[要件]** タブで、新しい要件を追加することもできます。  

2.  **[カテゴリ]** ドロップダウン リストで、この要件がデバイスまたはユーザーのどちらに対するものかを選びます。 前に作成したグローバル条件を使うには、**[カスタム]** を選びます。 **[カスタム]** を選択した場合は、**[作成]** を選択して新しいグローバル条件を作成することもできます。 グローバル条件の詳細については、「[グローバル条件を作成する方法](../../apps/deploy-use/create-global-conditions.md)」を参照してください。  

    > [!IMPORTANT]  
    >  アプリケーションをデバイス コレクションに展開する場合、クライアントはカテゴリ **[ユーザー]** と条件 **[プライマリ デバイス]** の要件を無視します。  
    >   
    >  System Center 2012 R2 Configuration Manager SP1 を使用して、Windows 10 を含む Windows のパッケージやプログラムまたはタスク シーケンスを要件として作成してから、System Center Configuration Manager にアップグレードすると、Windows 10 の要件が削除される場合があります。 この問題を解決するには、要件をもう一度指定します。 要件の表示から要件は削除されますが、デバイスではまだ正しく処理されています。  

3.  **[条件]** ドロップダウン リストで、ユーザーまたはデバイスがインストール要件を満たしているかどうかを評価するための条件を選択します。 この一覧の内容は、選択したカテゴリによって異なります。  

4.  **[演算子]** ドロップダウン リストで、使う演算子を選びます。 この演算子は、選んだ条件と指定した値を比較します。 ユーザーまたはデバイスがインストール要件を満たしているかどうかを評価します。 利用可能な演算子は選択された条件によって異なります。  

    > [!IMPORTANT]  
    >  使用できる要件は、展開の種類で使用するデバイスの種類によって異なります。  

5.  **[値]** ボックスで、使う値を指定します。 これらの値と、選んだ条件および演算子により、ユーザーまたはデバイスがインストール要件を満たすかどうかが評価されます。 利用可能な値は選択された条件および選択された演算子によって異なります。  

6.  **[OK]** を選択して要件を保存し、**[要件の作成]** ダイアログ ボックスを閉じます。  

### <a name="specify-dependencies-for-the-deployment-type"></a>展開の種類の依存関係を指定する  
 依存関係は、展開の種類をインストールする前にインストールする必要がある、別のアプリケーションからの 1 つまたは複数の展開の種類を定義します。 展開の種類がインストールされる前に、依存する展開の種類が自動的にインストールされるようにセットアップすることができます。  

> [!IMPORTANT]  
>  展開の種類が別の展開の種類と依存関係にあり、この別の展開の種類にも依存関係がある場合があります。 チェーンでサポートされる依存関係の最大数は 5 つです。  

1.  展開の種類の作成ウィザードの **[依存関係]** ページで、**[追加]** を選びます。  

    > [!IMPORTANT]  
    >  *[<展開の種類名\>* **プロパティ]** ダイアログ ボックスの **[依存関係]** タブで、新しい依存関係を追加することもできます。  

2.  **[依存関係の追加]** ダイアログ ボックスで、**[追加]** を選択します。  

3.  **[必須アプリケーションの指定]** ダイアログ ボックスで、依存関係として使用する既存のアプリケーションと、アプリケーションの展開の種類の 1 つを選択します。  

    > [!TIP]  
    >  **[表示]** を選択して、選択したアプリケーションまたは展開の種類のプロパティを表示できます。  

4.  **[OK]** を選択して **[必須アプリケーションの指定]** ダイアログ ボックスを閉じます。  

5.  依存アプリケーションが自動的にインストールされるようにするには、そのアプリケーションの横にある **[自動インストール]** を選択します。  

    > [!NOTE]  
    >  依存アプリケーションを自動的にインストールする必要はありません。  

6.  **[依存関係の追加]** ダイアログ ボックスの **[依存関係グループ名]** に、このアプリケーションの依存関係グループを表す名前を入力します。  

7.  必要に応じて、**[優先順位を上げる]** および **[優先順位を下げる]** ボタンを使います。 これらのアクションは、クライアントが各依存関係を評価する順序を変更します。  

8.  **[OK]** を選択して **[依存関係の追加]** ダイアログ ボックスを閉じます。  

### <a name="confirm-the-deployment-type-settings-and-finish-the-wizard"></a>展開の種類の設定を確認してウィザードを終了する  

1.  **[概要]** を確認します。 **[次へ]** を選択して、展開の種類を作成します。 前に戻って展開の種類の設定を変更するには、**[前へ]** を選びます。  

2.  **[進行状況]** ページが完了したら、ウィザードで実行された操作を確認し、**[閉じる]** を選択してウィザードを終了します。  

3.  アプリケーションの作成ウィザードから展開の種類の作成ウィザードを起動した場合は、アプリケーションの作成ウィザードの **[展開の種類]** ページに戻ります。  



## <a name="set-up-additional-options-for-deployment-types-that-contain-virtual-applications"></a>仮想アプリケーションが含まれる展開の種類のその他のオプションをセットアップする  
 仮想アプリケーションが含まれる展開の種類のその他のオプションをセットアップするには、以下の手順を使用します。  

### <a name="set-up-content-options-for-application-virtualization-app-v-deployment-types"></a>Application Virtualization (App-V) の展開の種類のコンテンツ オプションをセットアップする  

1.  Configuration Manager コンソールで、**[ソフトウェア ライブラリ]** > **[アプリケーション]** の順に選択します。  

2.  **[アプリケーション]** 一覧で、App-V の展開の種類を含むアプリケーションを選択します。 次に、**[ホーム]** タブの **[プロパティ]** グループで、**[プロパティ]** を選択します。  

3.  *[<アプリケーション名\>* **プロパティ]** ダイアログ ボックスの **[展開の種類]** タブで、App-V の展開の種類を選択して **[編集]** を選択します。  

4.  **[<*展開の種類名*\> のプロパティ]** ダイアログ ボックスの **[コンテンツ]** タブで、必要に応じて次のオプションをセットアップします。  

    -   **クライアント キャッシュの内容を保持する**: この展開の種類のコンテンツを Configuration Manager クライアント キャッシュから削除しないようにするには、このオプションを選択します。  

    -   **[起動前にコンテンツを App-V キャッシュに読み込む]**:アプリケーションを開始する前に、仮想アプリケーションのすべてのコンテンツを APP-V キャッシュに読み込むには、このオプションを選択します。 また、このオプションは、アプリケーションのコンテンツがキャッシュに固定されないようにします。 クライアントは必要に応じてコンテンツを削除します。  

5.  **[OK]** を選択して、*[<展開の種類名\>* **プロパティ]** ダイアログ ボックスを閉じます。  

6.  **[OK]** を選択して、*[<アプリケーション名\>* **プロパティ]** ダイアログ ボックスを閉じます。  

### <a name="set-up-publishing-options-for-app-v-deployment-types"></a>App-V の展開の種類の発行オプションをセットアップする  

1.  Configuration Manager コンソールで、**[ソフトウェア ライブラリ]** > **[アプリケーション]** の順に選択します。  

3.  **[アプリケーション]** 一覧で、App-V の展開の種類を含むアプリケーションを選択します。 次に、**[ホーム]** タブの **[プロパティ]** グループで、**[プロパティ]** を選択します。  

4.  *[<アプリケーション名\>* **プロパティ]** ダイアログ ボックスの **[展開の種類]** タブで、App-V の展開の種類を選択して **[編集]** を選択します。  

5.  *[<展開の種類名\>* **プロパティ]** ダイアログ ボックスの **[発行]** タブで、発行する仮想アプリケーション内の項目を選択します。  

6.  **[OK]** を選択して、*[<展開の種類名\>* **プロパティ]** ダイアログ ボックスを閉じます。  

7.  **[OK]** を選択して、*[<アプリケーション名\>* **プロパティ]** ダイアログ ボックスを閉じます。  



## <a name="import-an-application"></a>アプリケーションをインポートする  
 アプリケーションを Configuration Manager にインポートするには、次の手順に従います。 アプリケーションのエクスポート方法については、「[System Center Configuration Manager アプリケーションの管理タスク](../../apps/deploy-use/management-tasks-applications.md)」を参照してください。  

1.  Configuration Manager コンソールで、**[ソフトウェア ライブラリ]** > **[アプリケーション管理]** > **[アプリケーション]** の順に選択します。   

3.  **[ホーム]** タブの **[作成]** グループで、**[アプリケーションのインポート]** を選択します。  

4.  **アプリケーションのインポート ウィザード**の **[全般]** ページで **[参照]** を選びます。 次に、インポートするアプリケーションの .zip ファイルへのネットワーク パスを指定します。  

5.  **[ファイルのコンテンツ]** ページで、インポートするアプリケーションが既存のアプリケーションと重複している場合に行う処理を選びます。 新しいアプリケーションを作成するか重複を無視して、既存のアプリケーションに新しいバージョンを追加することができます。  

6.  **[概要]** ページで、実行される操作を確認し、ウィザードを終了します。  

 新しいアプリケーションは **[アプリケーション]** ノードに表示されます。  

> [!TIP]  
>  Windows PowerShell コマンドレットの **Import-CMApplication** は、上の手順と同じ機能があります。 詳細については、「[Import-CMApplication](https://docs.microsoft.com/powershell/module/configurationmanager/import-cmapplication?view=sccm-ps)」をご覧ください。  



##  <a name="deployment-types-supported-by-configuration-manager"></a>Configuration Manager でサポートされる展開の種類  

|展開の種類名|説明|  
|--------------------------|----------------------|  
|**Windows インストーラー (\*.msi ファイル)**|Windows インストーラー ファイルの展開の種類を作成します。|  
|**Windows アプリ パッケージ (\*.appx、\*.appxbundle)**|Windows 8 以降の展開の種類を作成します。 Windows アプリ パッケージ ファイルまたは Windows アプリ バンドル パッケージを選びます。|  
|**Windows アプリケーション パッケージ (Windows ストア内)**|Windows 8 以降の展開の種類を作成します。 Windows ストア内のアプリへのリンクを指定するか、ストアでアプリを参照して選びます。<br /><br /> アプリを Windows ストアへのリンクとして展開するには、グループ ポリシーの設定 **[ストア アプリケーションをオフにする]** を **[無効]** または **[未構成]** に構成します。 この設定が有効になっていると、アプリケーションのダウンロードとインストールを行うためにクライアントが Windows ストアに接続することができません。<br /><br /> ストアへのリンクを使用する Windows 8 の展開の種類は、優先順位に関係なく、いつもその他の展開の種類より前に評価されます。|  
|**スクリプト インストーラー**|コンテンツをインストールしたり、何らかの操作を実行したりするためにクライアント デバイスで実行されるスクリプトを指定する展開の種類を作成します。|  
|**Microsoft Application Virtualization 4**|Microsoft Application Virtualization 4 マニフェストの展開の種類を作成します。|  
|**Microsoft Application Virtualization 5**|Microsoft Application Virtualization 5 パッケージ ファイルの展開の種類を作成します。|  
|**Windows Phone アプリケーション パッケージ (\*.xap ファイル)**|Windows Phone アプリケーション パッケージ ファイルの展開の種類を作成します。|  
|**Windows Phone アプリケーション パッケージ (Windows Phone ストア内)**|Windows Phone ストアのアプリケーションへのリンクを指定して、展開の種類を作成します。|  
|**iOS アプリ パッケージ (\*.ipa ファイル)**|iOS アプリケーション パッケージ ファイルの展開の種類を作成します。|  
|**iOS 用アプリ パッケージ (App ストア内)**|App ストアの iOS アプリケーションへのリンクを指定して、展開の種類を作成します。|  
|**Android アプリ パッケージ (\*.apk ファイル)**|Android アプリケーション パッケージ ファイルの展開の種類を作成します。|  
|**Android 用アプリ パッケージ (Google Play 内)**|Google Play のアプリケーションへのリンクを指定して、展開の種類を作成します。|  
|**Mac OS X**|CMAppUtil ツールを使って作成した .cmmac ファイルを含む、Mac コンピューター用の展開の種類を作成します。<br /><br /> Configuration Manager クライアントを実行している Mac コンピューターのみに適用されます。|  
|**Web アプリケーション**|Web アプリケーションへのリンクを指定して、展開の種類を作成します。 この展開の種類では、ユーザーのデバイスに Web アプリケーションへのショートカットをインストールします。<br /><br /> iOS または Android デバイスに Microsoft Intune Managed Browser をインストールした場合は、ユーザーがアプリを開くために使用できるのが Managed Browser だけであることを確認します。 アプリへのリンクを指定するときに、**http:** を **http-intunemam:** に置き換えた形式、または **https:** を **https-intunemam:** に置き換えた形式のどちらかを使います。<br /><br /> - **http-intunemam://<Web アプリへのパス\>**<br /><br /> - **https-intunemam://<Web アプリへのパス\>**<br /><br /> Configuration Manager アプリケーションの要件を使用することにより、Managed Browser に関連付けるアプリは iOS および Android デバイスの<br /><br /> Intune Managed Browser の詳細については、「[Managed Browser ポリシーを使用したインターネット アクセスの管理](../../apps/deploy-use/manage-internet-access-using-managed-browser-policies.md)」を参照してください。|  
|**MDM を介した Windows インストーラー (\*.msi)**|このインストーラーの種類では、Windows インストーラーベースのアプリを作成して、Windows 10 を実行する PC に展開できます。<br /><br /> このインストーラーの種類を使用する場合は、次の点を考慮してください。<br><br>- 拡張子が .msi であるファイルを 1 つのみアップロードできます。<br /><br /> - アプリの検出では、ファイルの製品コードと製品バージョンが使用されます。<br /><br /> - アプリの既定の再起動動作が使われます。 Configuration Manager はこの再起動を制御しません。<br /><br /> - ユーザー単位の MSI パッケージは単一のユーザーにインストールされます。<br /><br /> - コンピューター単位の MSI パッケージはデバイス上のすべてのユーザーにインストールされます。<br /><br /> - デュアル モードの MSI パッケージは現在、デバイス上のすべてのユーザーに対するインストールのみが実行されます。<br /><br /> - アプリの更新プログラムは、各バージョンの MSI 製品コードが同じである場合にサポートされます。|  



## <a name="next-steps"></a>次のステップ

Configuration Manager でアプリケーションを作成した後、次のステップでは[アプリケーションを展開](/sccm/apps/deploy-use/deploy-applications)します。
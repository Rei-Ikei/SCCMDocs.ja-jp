---
title: プル配布ポイント
titleSuffix: Configuration Manager
description: System Center Configuration Manager でのプル配布ポイントの使用に関する構成と制限事項について説明します。
ms.date: 2/14/2017
ms.prod: configuration-manager
ms.technology: configmgr-other
ms.topic: conceptual
ms.assetid: 7d8f530b-1a39-4a9d-a2f0-675b516da7e4
author: aczechowski
ms.author: aaroncz
manager: dougeby
ms.openlocfilehash: d6d6f68e913d261a5a23db85707ea0c9ac965cbd
ms.sourcegitcommit: 0b0c2735c4ed822731ae069b4cc1380e89e78933
ms.translationtype: HT
ms.contentlocale: ja-JP
ms.lasthandoff: 05/03/2018
---
# <a name="use-a-pull-distribution-point-with-system-center-configuration-manager"></a>System Center Configuration Manager でのプル配布ポイントの使用

*適用対象: System Center Configuration Manager (Current Branch)*


System Center Configuration Manager のプル配布ポイントは、サイト サーバーからソース配布ポイントにコンテンツをプッシュすることによってではなく、クライアントのようにソースの場所からコンテンツをダウンロードすることによって配布コンテンツを取得する標準的な配布ポイントです。  

 1 つのサイトの多くの配布ポイントにコンテンツを展開する場合、プル配布ポイントを使用すると、サイト サーバーの処理負荷を減らし、各配布ポイントにコンテンツを転送する速度を向上させることができます。 つまり、サイト サーバーの配布マネージャー プロセスから、各配布ポイントへのコンテンツの転送プロセスによる負荷を取り除きます。  

-   配布ポイントは個別にプル配布ポイントとして構成することができます。  

-   それぞれのプル配布ポイントには、デプロイの取得元として少なくとも 1 つのソース配布ポイントを指定する必要があります (プル配布ポイントがコンテンツを取得できるのは、ソース配布ポイントとして指定された配布ポイントからだけです)。  

-   コンテンツをプル配布ポイントに配布するとき、サイト サーバーはプル配布ポイントに通知を送ります。通知を受け取ったプル配布ポイントは、ソース配布ポイントからコンテンツのダウンロード (転送) を開始します。 各プル配布ポイントが個別にコンテンツの転送を受け持ち、既にコンテンツのコピーを持っている配布ポイントからコンテンツをダウンロードします。  

プル配布ポイントは、通常の Configuration Manager 配布ポイントと同じ構成と機能をサポートします。 たとえば、マルチキャストと PXE を構成でき、コンテンツの検証、オンデマンドによるコンテンツの配布にも対応しています。 プル配布ポイントは、クライアントからの HTTP または HTTPS 通信、他の配布ポイントと同じ証明書オプションをサポートし、個別または配布ポイントのメンバーとして管理できます。  

> [!IMPORTANT]
> プル配布ポイントは HTTP と HTTPS による通信をサポートしていますが、Configuration Manager を使用するときは、HTTP 用に構成されているソース配布ポイントだけを指定することができます。 Configuration Manager SDK を使用して、HTTPS 用に構成されているソース配布ポイントを指定することができます。  

 **コンテンツをプル配布ポイントに配布するときは、次の処理が順番に行われます。**  

-   プル配付ポイントへのコンテンツの配布を開始するときは、まず、サイト サーバーの Package Transfer Manager がサイト データベースを調べ、該当するコンテンツがソース配付ポイントにあるかどうかを確認します。 ソース配布ポイントにコンテンツがあるかどうかを確認できない場合は、その後 20 分おきに確認を繰り返します。  

-   Package Transfer Manager が、ソース配付ポイントにコンテンツがあることを確認できたら、プル配布ポイントにコンテンツをダウンロードするように指示します。 この通知が失敗した場合、プル配布ポイントのソフトウェア配布コンポーネント**再試行設定**に基づいて再試行されます。 プル配布ポイントは、この通知を受信すると、ソース配布ポイントからコンテンツのダウンロードを試行します。  

-   プル配布ポイントによってコンテンツがダウンロードされている間、Package Transfer Manager によって、プル配布ポイントのソフトウェア配布コンポーネント **ステータス ポーリング設定**に基づいてステータスに関するポーリングが行われます。  プル配布ポイントは、コンテンツのダウンロードを完了すると、そのステータスを管理ポイントに送信します。

**プル配布ポイントの構成** は、配布ポイントをインストールするときか、インストールした後で、配布ポイント サイト システムの役割のプロパティを編集することによって行います。  

プル配布ポイントの構成は、配布ポイントのプロパティを編集することで**削除できます**。 プル配布ポイントの構成を削除すると、通常の配布ポイントの動作に戻り、その後の配布ポイントへのコンテンツの転送はサイト サーバーが制御することになります。  

## <a name="to-configure-software-distribution-component-for-pull-distribution-points"></a>ソフトウェア配布コンポーネントのプル配布ポイントを構成するには

1.  Configuration Manager コンソールで、**[管理]**、**[サイト]** の順に選択します。  

2.  目的のサイトを選択し、**[サイト コンポーネントを構成する]**、**[ソフトウェアの配布]** の順に選択します。

3. **[プル配布ポイント]** タブを選択します。  

4.  **[再試行の設定]** 一覧で、次の値を構成します。  

    -   **[再試行回数]** - Package Transfer Manager がプル配布ポイントにコンテンツ ダウンロードの開始を求める通知を試行する回数。  この回数を超過すると、Package Transfer Manager は転送をキャンセルします。

    -   **[再試行までの待機時間 (分)]** - Package Transfer Manager が次の試行まで待機する分数。 

5.  **[ステータス ポーリング設定]** 一覧で、次の値を構成します。  

    -   **[ポーリングの回数]** - Package Transfer Manager がプル配布ポイントに接触し、ジョブ ステータスを取得する回数。  ジョブの完了前にこの回数を超過すると、Package Transfer Manager は転送をキャンセルします。

    -   **[再試行までの待機時間 (分)]** - Package Transfer Manager が次の試行まで待機する分数。 
    
    > [!NOTE]  
    >  ステータス ポーリングの再試行回数を超過したために、Package Transfer Manager がジョブをキャンセルすると、プル配布ポイントはコンテンツのダウンロードを続行します。  ダウンロードが完了すると、ステータス メッセージが Package Transfer Manager に送信され、コンソールで新しいステータスが反映されます。
    
## <a name="limitations-for-pull-distribution-points"></a>プル配布ポイントの制限  

-   クラウドベースの配布ポイントは、プル配布ポイントとして構成できません。  

-   サイト サーバーの配布ポイントは、プル配布ポイントとして構成できません。  

-   **事前設定コンテンツの構成は、プル配布ポイントの構成よりも優先されます。** 事前設定済みコンテンツ用に構成されているプル配布ポイントは、コンテンツを待ちます。 ソース配布ポイントからコンテンツをプルしません。また、事前設定コンテンツが構成されている標準の配布ポイントと同様に、サイト サーバーからコンテンツを受信しません。  

-   プル配布ポイントは、コンテンツを転送するときに、**スケジュールまたは転送率の制限の構成を使用しません**。 事前にインストールされた配布ポイントをプル配布ポイントに構成する場合、スケジュールと転送率の制限の構成は保存されますが、使用されません。 後でプル配布ポイント構成を削除した場合は、前と同じスケジュールと転送率の制限が使われるようになります。  

    > [!NOTE]  
    >  配布ポイントをプル配布ポイントとして構成すると、配布ポイントのプロパティの **[スケジュール]** タブと **[転送率の制限]** タブは表示されません。  

-   プル配布ポイントでは、各サイトの **[ソフトウェア配布コンポーネントのプロパティ]** の **[全般]** タブの設定は使用されません。  これには、**同時配布**設定と**マルチキャストの再試行**設定は含まれません。  **[プル配布ポイント]** タブを利用し、プル配布ポイントの設定を構成します。

-   リモート フォレストにあるソース配布ポイントからコンテンツを転送するには、プル配布ポイントのあるコンピューターに Configuration Manager クライアントがインストールされていなければなりません。 ソース配付ポイントにアクセスに使用するネットワーク アクセス アカウントを構成する必要があります。  

-   プル配布ポイントとして構成し、Configuration Manager クライアントを実行するコンピューターでは、クライアントのバージョンが、プル配布ポイントをインストールする Configuration Manager サイトと同じバージョンでなければなりません。 これは、プル配布ポイントと Configuration Manager クライアントの両方に共通する CCMFramework を使用するプル配布ポイントの場合の要件です。  

## <a name="about-source-distribution-points"></a>ソース配布ポイントについて  
 プル配布ポイントを構成するときは、ソース配布ポイントを 1 つまたは複数指定する必要があります。  

-   このとき、ソース配付ポイントになることができる配付ポイントだけが表示されます。  

-   プル配布ポイントは、他のプル配布ポイントのソース配布ポイントとして指定できます。  

-   Configuration Manager を使用するときソース配布ポイントとして指定できるのは、HTTP をサポートする配布ポイントだけです。  

-   Configuration Manager SDK を使用して、HTTPS 用に構成されているソース配布ポイントを指定することができます。 HTTPS 用に構成されているソース配布ポイントを使用するには、プル配布ポイントが Configuration Manager クライアントを実行するコンピューターに併置されている必要があります。  

プル配布ポイントのソース配布ポイント リストに登録されている各配布ポイントには優先順位を割り当てることができます。  

-   各ソース配布ポイントに別の優先順位を割り当てるか、複数のソース配布ポイントを同じ優先順位に割り当てることができます。  

-   優先順位によって、プル配布ポイントがソース配布ポイントのコンテンツを要求する順序が決まります。  

-   プル配布ポイントは、まず優先順位が最も低いソース配布ポイントに接続します。  同じ優先順位のソース配布ポイントが複数ある場合、プル配布ポイントはその優先順位を共有するソース配布ポイントのいずれかをランダムに選択します。  

-   選択されたソースでコンテンツを取得できない場合、プル配布ポイントは優先順位が同じ別の配布ポイントからコンテンツのダウンロードを試行します。  

-   優先順位が同じ配布ポイントのいずれにもコンテンツがない場合は、次に大きい優先順位を持つ配布ポイントからのダウンロードを試みます。この操作をコンテンツが見つかるまで繰り返し、どの配付ポイントにもコンテンツが見つからなかった場合は、30 分間休止してから再開します。  

プル配布ポイントがソース配布ポイントからコンテンツをダウンロードすると、そのプル配布ポイントは、 **[配布ポイントの使用状況の概要]** レポートの **[アクセスしたクライアント数 (固有)]** 列でクライアントとしてカウントされます。  

 既定では、プル配布ポイントは、ソース配布ポイントからのコンテンツの転送に、プル配布ポイントの **コンピューターのアカウント** を使用します。 ただし、プル配布ポイントが、リモート フォレストにあるソース配布ポイントからコンテンツを転送する場合、プル配布ポイントは常にネットワーク アクセス アカウントを使用します。 このためには、コンピューターに Configuration Manager クライアントをインストールし、使用するネットワーク アクセス アカウントを構成して、ソース配布ポイントへのアクセス権を設定する必要があります。  

## <a name="about-content-transfers"></a>コンテンツの転送について  
 コンテンツの転送を管理するために、プル配布ポイントは、Configuration Manager クライアント ソフトウェアの **CCMFramework** コンポーネントを使用します。  

-   このフレームワークは、配布ポイントをプル配布ポイントとして構成するときに **Pulldp.msi** によってインストールされます。 フレームワークは、Configuration Manager クライアントを必要としません。  

-   プル配布ポイントのインストール後に、そのコンピューターで CCMExec サービスが実行されていないと、プル配付ポイントが正常に機能しません。  
<!--sms.503672 -Clarified BITS use-->
-   プル配布ポイントはコンテンツを転送するときに、Windows オペレーティング システムに組み込まれた**バックグラウンド インテリジェント転送サービス** (BITS) を使用します。 プル配布ポイントには、オプションの BITS IIS Server 拡張機能をインストールする必要はありません。

-  プル配布ポイントは、配布ポイントのコンピューターの **datatransferservice.log** および **pulldp.log** に操作を記録します。

## <a name="see-also"></a>関連項目  
 [System Center Configuration Manager でのコンテンツ管理の基本的な概念](/sccm/core/plan-design/hierarchy/fundamental-concepts-for-content-management)   
